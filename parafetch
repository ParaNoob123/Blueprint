#!/bin/bash
# Parafetch - Custom system info fetch by Para

# Colors
CYAN="\033[1;36m"
YELLOW="\033[1;33m"
GREEN="\033[1;32m"
RED="\033[1;31m"
RESET="\033[0m"

# Hostname
HOSTNAME=$(hostname)

# OS & Kernel
OS=$(lsb_release -d 2>/dev/null | cut -f2 || cat /etc/os-release | grep PRETTY_NAME | cut -d= -f2- | tr -d '"')
KERNEL=$(uname -r)

# Uptime
UPTIME=$(uptime -p | sed 's/up //')

# CPU Vendor & Model
CPU_MODEL=$(lscpu | grep "Model name" | sed 's/Model name:\s*//')
CPU_VENDOR=$(lscpu | grep "Vendor ID" | awk '{print $3}')

# CPU Usage
CPU_USAGE=$(top -bn1 | grep "Cpu(s)" | awk '{print 100 - $8"%"}')

# RAM Usage
RAM_TOTAL=$(free -m | awk '/Mem:/ {print $2}')
RAM_USED=$(free -m | awk '/Mem:/ {print $3}')
RAM_USAGE="$RAM_USED / $RAM_TOTAL MB"

# Disk Usage
DISK_USED=$(df -h / | awk 'NR==2 {print $3}')
DISK_TOTAL=$(df -h / | awk 'NR==2 {print $2}')
DISK_USAGE="$DISK_USED / $DISK_TOTAL"

# Local & Public IP
LOCAL_IP=$(hostname -I | awk '{print $1}')
PUBLIC_IP=$(curl -s ipv4.icanhazip.com)

# IP check
if [[ -n "$PUBLIC_IP" ]]; then
    IP_TYPE="Dedicated (Yes)"
else
    IP_TYPE="Shared/None (No)"
fi

# Output
echo -e "${CYAN}==========================================${RESET}"
echo -e "${YELLOW}   üñ•Ô∏è  Parafetch - System Information${RESET}"
echo -e "${CYAN}==========================================${RESET}"
echo -e "${GREEN}Hostname:   ${RESET}$HOSTNAME"
echo -e "${GREEN}OS:         ${RESET}$OS"
echo -e "${GREEN}Kernel:     ${RESET}$KERNEL"
echo -e "${GREEN}Uptime:     ${RESET}$UPTIME"
echo -e "${GREEN}CPU:        ${RESET}$CPU_VENDOR - $CPU_MODEL"
echo -e "${GREEN}CPU Usage:  ${RESET}$CPU_USAGE"
echo -e "${GREEN}RAM Usage:  ${RESET}$RAM_USAGE"
echo -e "${GREEN}Disk Usage: ${RESET}$DISK_USAGE"
echo -e "${GREEN}Local IP:   ${RESET}$LOCAL_IP"
echo -e "${GREEN}Public IP:  ${RESET}$PUBLIC_IP"
echo -e "${GREEN}IPv4 Dedicated: ${RESET}$IP_TYPE"
echo -e "${CYAN}==========================================${RESET}"
