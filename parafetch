#!/bin/bash

# Colors
CYAN="\033[1;36m"
YELLOW="\033[1;33m"
GREEN="\033[1;32m"
RED="\033[1;31m"
RESET="\033[0m"

# Hostname
HOSTNAME=$(hostname)

# CPU Usage
CPU_USAGE=$(top -bn1 | grep "Cpu(s)" | awk '{print 100 - $8"%"}')

# RAM Usage
RAM_TOTAL=$(free -m | awk '/Mem:/ {print $2}')
RAM_USED=$(free -m | awk '/Mem:/ {print $3}')
RAM_USAGE="$RAM_USED / $RAM_TOTAL MB"

# Local IP
LOCAL_IP=$(hostname -I | awk '{print $1}')

# Public IPv4
PUBLIC_IP=$(curl -s ipv4.icanhazip.com)

# Check IPv4 Dedicated/Shared
if [ -n "$PUBLIC_IP" ]; then
    IP_CHECK="Dedicated (Yes)"
else
    IP_CHECK="Shared/None (No)"
fi

# CPU Model
CPU_MODEL=$(lscpu | grep "Model name" | sed 's/Model name:\s*//')

# Output
echo -e "${CYAN}==========================================${RESET}"
echo -e "${YELLOW}   ðŸ–¥  Parafetch - System Information${RESET}"
echo -e "${CYAN}==========================================${RESET}"
echo -e "${GREEN}Hostname:   ${RESET}$HOSTNAME"
echo -e "${GREEN}CPU Model:  ${RESET}$CPU_MODEL"
echo -e "${GREEN}CPU Usage:  ${RESET}$CPU_USAGE"
echo -e "${GREEN}RAM Usage:  ${RESET}$RAM_USAGE"
echo -e "${GREEN}Local IP:   ${RESET}$LOCAL_IP"
echo -e "${GREEN}Public IP:  ${RESET}$PUBLIC_IP"
echo -e "${GREEN}IPv4 Dedicated: ${RESET}$IP_CHECK"
echo -e "${CYAN}==========================================${RESET}"
